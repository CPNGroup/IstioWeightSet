流量权重设置分为两部分：最佳流量控制决策生成部分和权重设置部分

这两部分将会以GRPC的形式通信，其中最佳流量转发决策生成模块周期性地从zookeeper中读取系统状态，然后基于当前系统状态运行算法得出最佳流量转发决策，并通过GRPC协议向权重设置模块发起调用。权重设置模块会基于暴露地调用方法对虚拟服务中的流量权重进行设置。

为此，总体代码测试可以分为以下几个步骤：

1. 撰写权重设置模块，该模块为GRPC服务端，接收客户端调用传入流量转发决策，然后对各个网关虚拟服务中的权重设置进行更新；此时撰写一个GRPC客户端进行测试，查看是否成功。前期需要确定决策的数据结构是什么样的，用于撰写proto文件。注意，该文件需要打包成镜像运行成容器，在nuc上暴露调用端口。
2. 撰写决策生成模块，该模块纯纯的客户端，即使zookeeper的GRPC客户端，用于获取系统状态，然后进行一系列处理，然后得出决策，又是权重设置模块的GRPC客户端，用于调用权重设置模块更新全局权重。测试时不需要打包成镜像，直接在本地进行测试即可。最终都会打包成镜像。
